<form [formGroup]="productBundleForm">
  <h1 mat-dialog-title>
    <span>Edit Product Bundle</span>
    <span class="disp-checkbox">
      <mat-checkbox matInput name="display" formControlName="display" [checked]="data.productBundle.display"></mat-checkbox>
      display
    </span>
  </h1>

  <div mat-dialog-content>
    <div class="bundle-form-row">
      <mat-form-field>
        <input autofocus matInput placeholder="Product ID" name="productId" formControlName="productId">
        <mat-error *ngIf="productBundleForm.controls.productId.hasError('required')">Product ID is required</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Display Name" name="displayName" formControlName="displayName">
        <mat-error *ngIf="productBundleForm.controls.displayName.hasError('required')">Display Name is required</mat-error>
      </mat-form-field>
    </div>

    <div class="bundle-form-row">
      <mat-form-field>
        <input matInput placeholder="Description" name="description" formControlName="description">
        <mat-error *ngIf="productBundleForm.controls.description.hasError('required')">Description is required</mat-error>
      </mat-form-field>
    </div>

    <app-bundle-rewards-editor [rawRewards]="data.productBundle.productBundleRewards"></app-bundle-rewards-editor>

    <app-json-editor-card [editTarget]="data.productBundle" topic="Product Bundle"></app-json-editor-card>
  </div>
</form>

<div mat-dialog-actions>
  <button type="button" mat-raised-button (click)="close(true)" [disabled]="!productBundleForm.valid || !editorCard?.isJSONValid">OK</button>
  <button type="button" mat-raised-button (click)="close()">Cancel</button>
</div>
