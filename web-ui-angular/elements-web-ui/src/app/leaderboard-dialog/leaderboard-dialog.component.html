<h1 mat-dialog-title>{{data.isNew ? "New" : "Edit"}} Leaderboard</h1>

<div mat-dialog-content>
  <form [formGroup]="leaderboardForm">
    <div class="leaderboard-form-container">
      <mat-form-field>
        <input matInput placeholder="Leaderboard Name" name="name" formControlName="name">
        <mat-error *ngIf="leaderboardForm.controls.name.hasError('required')">Leaderboard name is required</mat-error>
        <mat-error *ngIf="leaderboardForm.controls.name.hasError('unique') && data.isNew">Leaderboard name must unique</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Display Name (Title)" name="title" formControlName="title">
        <mat-error *ngIf="leaderboardForm.controls.title.hasError('required')">Display name (Title) is required</mat-error>
      </mat-form-field>
      
      <mat-form-field>
        <input matInput type="datetime-local" placeholder="Set first leaderboard reset date & time ({{timeZone}})" step="1" name="firstEpochTimestampView" formControlName="firstEpochTimestampView" (change)="handleNewDate($event)"/>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="days" type="number" name="days" formControlName="days" min="0">  
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="hours" type="number" name="hours" formControlName="hours" min="0" max="24">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="minutes" type="number" name="minutes" formControlName="minutes" min="0" max="60">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="seconds" type="number" name="seconds" formControlName="seconds" min="0" max="60">
      </mat-form-field>

      <mat-form-field>
        <mat-select name="timeStrategyType" placeholder="Time Strategy" formControlName="timeStrategyType">
          <mat-option *ngFor="let timeStrategy of timeStrategyTypes" [value]="timeStrategy.key">
            {{timeStrategy.description}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="leaderboardForm.controls.timeStrategyType.hasError('required')">Time strategy is required</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-select name="scoreStrategyType" placeholder="Score Strategy" formControlName="scoreStrategyType">
          <mat-option *ngFor="let scoreStrategy of scoreStrategyTypes" [value]="scoreStrategy.key">
            {{scoreStrategy.description}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="leaderboardForm.controls.scoreStrategyType.hasError('required')">Score strategy is required</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Score Units" name="scoreUnits" formControlName="scoreUnits">
        <mat-error *ngIf="leaderboardForm.controls.name.hasError('required')">Score Unit name is required</mat-error>
      </mat-form-field>
    </div>
  </form>
</div>

<div mat-dialog-actions>
  <button type="button" mat-raised-button (click)="close(leaderboardForm.value)" [disabled]="!leaderboardForm.valid">OK</button>
  <button type="button" mat-raised-button (click)="close()">Cancel</button>
</div>